<!DOCTYPE html>
<html xmlns:th="https://www.thymeleaf.org">
<head>
    <meta charset="UTF-8"/>
    <title th:text="${titulo}"></title>
    <!-- Font Awesome Icons -->
    <link rel="stylesheet"
          th:href="@{/plugins/fontawesome-free/css/all.min.css}">
    <!-- Theme style -->
    <link
            href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,400i,700"
            rel="stylesheet">
    <link rel="stylesheet" type="text/css"
          th:href="@{/adminlte/dist/css/adminlte.css}">
    <link rel="stylesheet" type="text/css"
          th:href="@{/plugins/sweetalert2/sweetalert2.css}">
    <link rel="stylesheet" type="text/css"
          th:href="@{/plugins/icheck-bootstrap/icheck-bootstrap.css}">
    <link rel="stylesheet" type="text/css"
          th:href="@{/plugins/toastr/toastr.css}">
    <link rel="stylesheet" type="text/css" th:href="@{/css/style.css}">
    <link rel="icon" type="image/png"
          th:href="@{/images/favicon-coin-16x16.png}">
    <!-- default header name is X-CSRF-TOKEN -->
    <meta name="_csrf_header" content="${_csrf.headerName}"/>
</head>
<body class="hold-transition layout-top-nav">
<div class="wrapper">

    <!-- Navbar -->

    <!-- /.navbar -->

    <!-- Content Wrapper. Contains page content -->
    <div class="content-wrapper">

        <div class="container">
            <div class="col-3 ">
                <img class="img-fluid " th:src="@{/images/logo.png}"/>
            </div>
        </div>
        <img class="barra" th:src="@{/images/barra.png}"/>

        <!-- Main content -->
        <div class="content">
            <div class="container">
                <div class="d-flex justify-content-center">
                    <div class="col-md-5">
                        <div class="card card-outline card-success mt-4">
                            <img class="card-img-top"
                                 th:src="@{/images/CuentaAhorrosOnlineB.jpg}" alt=""/>
                            <div class="card-body">
                                <form id="form_crdenciales" th:action="@{/ingreso}" role="form" method="post">
                                    <div class="input-group mb-3">
                                        <input type="text" id="txt_identificacion"
                                               name="txt_identificacion" class="form-control"
                                               placeholder="identificacion" data-parsley-type="digits"
                                               minlength="10" maxlength="10" required>
                                        <div class="input-group-append">
                                            <div class="input-group-text" for="txt_identificacion">
                                                <span class="fas fa-id-card"></span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="input-group mb-3">
                                        <input type="text" id="txt_cod_dactilar"
                                               name="txt_cod_dactilar" class="form-control" maxlength="10"
                                               placeholder="codigo dactilar" required>
                                        <div class="input-group-append">
                                            <div class="input-group-text" for="txt_cod_dactilar">
                                                <a href="#" id="info_cod"
                                                   title="info sobre codigo dactilar"> <span
                                                        class="fas fa-credit-card"></span>
                                                </a>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="form-group row ml-1">
                                        <div class="icheck-success">
                                            <input type="checkbox" id="remember"
                                                   data-parsley-errors-container="#message_error_chek"
                                                   required> <label for="remember">
                                            <a href="#" id="medios_electronicos">Declaración De Titularidad Y Veracidad
                                                De La Información</a>
                                        </label>
                                        </div>
                                        <div id="message_error_chek"></div>
                                    </div>

                                    <div class="d-flex justify-content-center">
                                        <div class="col-md-8">
                                            <button type="submit" name="btn_continuar" id="btn_continuar"
                                                    class="btn btn-success btn-block">
                                                <i class="fas fa-sign-in-alt"></i>&nbsp;Continuar
                                            </button>
                                        </div>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- /.content -->
        <!-- Modal -->
        <div class="modal fade" id="exampleModalLong" tabindex="-1"
             role="dialog" aria-labelledby="exampleModalLongTitle"
             aria-hidden="true" data-backdrop="static" data-keyboard="false">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="exampleModalLongTitle">
                            <i class="fas fa-check-circle"></i>&nbsp;Cooperativa 15 de abril
                        </h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body" id="content_body_modal">
                        <div class="container" style="font-size: 12px;">
                            <div class="text-justify p-3">
                                <div class="text-center">
                                    <label class="text-bold">Declaración De Titularidad Y Veracidad De La
                                        Información.</label>
                                </div>
                                <br>
                                <p class="text-justify">
                                    Como la información aquí­ suministrada por mi es confidencial y básica para la
                                    vinculación como Cliente de la COOPERATIVA DE AHORRO Y CREDITO 15 DE ABRIL LTDA, la
                                    gestión y aprobacion de cualquier producto u operación y/o la atención de mis
                                    solicitudes, peticiones, quejas o reclamos; LA COOPERATIVA DE AHORRO Y CREDITO 15 DE
                                    ABRIL LTDA exige que todos los datos suministrados sean exactos y se puedan
                                    verificar. Declaro que la información suministrada en este Sitio Web es de mi
                                    titularidad, concuerda con la realidad y asumo plena responsabilidad por la
                                    veracidad de la misma; cualquier inexactitud podrá acarrear su rechazo o la no
                                    aprobación de la vinculación a la COOPERATIVA y/o de la solicitud del (de los)
                                    producto(s), sin responsabilidad alguna por parte de LA COOPERATIVA DE AHORRO Y
                                    CREDITO 15 DE ABRIL LTDA frente a terceros o al (a los) solicitantes. Reconozco y
                                    acepto que en el evento que la información por mi, suministrada en este Sitio Web no
                                    sea de mi propiedad, induzca a una falsedad personal o sea violatoria del bien
                                    jurídico tutelado denominado acceso de la proteccion de la informacion y de los
                                    datos podrá incurrir en tipos penales sanciónales por la Ley.
                                </p>
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-outline-success" data-dismiss="modal">Cerrar</button>
                    </div>
                </div>
            </div>
        </div>
        <!-- fin  Modal -->
        <!-- Modal -->
        <div class="modal fade" id="exampleModalLong2" tabindex="-1"
             role="dialog" aria-labelledby="exampleModalLongTitle"
             aria-hidden="true" data-backdrop="static" data-keyboard="false">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="exampleModalLongTitle">
                            <i class="fas fa-check-circle"></i>&nbsp;Cooperativa 15 de abril
                        </h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body" id="content_body_modal2">
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-outline-success" data-dismiss="modal">Cerrar</button>
                    </div>
                </div>
            </div>
        </div>
        <!-- fin  Modal -->
    </div>
    <!-- /.content-wrapper -->

    <!-- Main Footer -->
    <footer class="main-footer bg-light">
        <!-- To the right -->
        <div class="float-right d-none d-sm-inline">v 0.0.1</div>
        <!-- Default to the left -->
        <div class="container">
            <div class="text-center">
                <strong> <a href="https://www.coop15abril.fin.ec/"
                            target="_blank"> Cooperativa de Ahorro y Crédito 15 de Abril </a>&copy; 2020.
                </strong> | Derechos Reservados
            </div>
        </div>

    </footer>
</div>
<!-- ./wrapper -->

<!-- REQUIRED SCRIPTS -->
<script th:src="@{/plugins/jquery/jquery.min.js}"></script>
<script th:src="@{/plugins/axios/dist/axios.min.js}"></script>
<script th:src="@{/plugins/bootstrap/js/bootstrap.bundle.min.js}"></script>
<script th:src="@{/adminlte/dist/js/adminlte.min.js}"></script>
<script th:src="@{/plugins/axios/dist/axios.min.js}"></script>
<script th:src="@{/plugins/parsley/parsley.js}"></script>
<script th:src="@{/plugins/parsley/i18n/es.js}"></script>
<script th:src="@{/plugins/toastr/toastr.min.js}"></script>
<script th:src="@{/js/identificacion.js}"></script>
<script th:src="@{/js/productoscoop15deabril.js}"></script>

<script th:inline="javascript" type="text/javascript">

$( function () {

    toastr.options = {
        closeButton:true,
        "progressBar": true,
        positionClass: "toast-top-right",
        preventDuplicates: true
    };

    $('#txt_cod_dactilar').keyup( () =>{
    	$('#txt_cod_dactilar').val( $('#txt_cod_dactilar').val().toUpperCase() );
    });

    $('#medios_electronicos').click(function (e){
        e.preventDefault();
        $('#exampleModalLong').modal('show');
    });

    $('#info_cod').click(function (e){
        e.preventDefault();
        let url = /*[[@{/images/cod_dactilar_info.jpg}]]*/'';
        $('#content_body_modal2').remove('#imagen_codigo');
        $('#content_body_modal2').html('<img id="imagen_codigo" class="img-responsive" style="display:flex; margin:0 auto;" src="'+url+'">');
        $('#exampleModalLong2').modal('show');
    });   

    let form_crdenciales = $('#form_crdenciales').parsley({
        errorClass: 'is-invalid',
        successClass: '',
        errorsWrapper: '<div class="invalid-tooltip"></div>',
        errorTemplate: '<span></span>',
        errors: {
            container: function ( elem ) {
                return $( elem ).parent();
            }
        },
    });
    $('#btn_continuar').click( function (e) {
        e.preventDefault();
        if ( !form_crdenciales.validate() )
        {
            toastr.info('Datos obligatorios');
            return ;
        }
        if ( !CedVal($('#txt_identificacion').val()) ){
            toastr.error('Cedula Invalida',"Errro cedula");
            $('#txt_identificacion').focus();
            return ;
        }

        $('#form_crdenciales').submit();

    });


});

</script>

</body>
</html>